{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/adarsh/Documents/StocksUI/Components/Search.js\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { av_key } from \"../config\";\n\nvar Search = function Search(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      stocks = _useState2[0],\n      setstocks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setsearch = _useState4[1];\n\n  var topResults = function topResults() {\n    if (search.length > 0) {\n      fetch(\"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=\" + search + \"&apikey=\" + av_key).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        var results = resJson[\"bestMatches\"];\n        var top = results.map(function (x) {\n          return {\n            ticker: x[\"1. symbol\"],\n            name: x[\"2. name\"]\n          };\n        });\n        setstocks(top);\n      }).catch(function (error) {\n        Alert.alert(error);\n      });\n    } else {\n      setsearch(\"\");\n    }\n  };\n\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"search stock\",\n    onChangeText: function onChangeText(text) {\n      return setsearch(text);\n    },\n    value: search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: topResults,\n    style: {\n      marginTop: 30,\n      justifyContent: \"center\",\n      alignContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"red\",\n      marginLeft: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"SEARCH\"))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, stocks.map(function (x, i) {\n    return React.createElement(TouchableOpacity, {\n      style: styles.list,\n      key: i,\n      onPress: function onPress() {\n        return navigation.navigate(\"stock\", {\n          x: x\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, x.ticker + \" - \" + x.name));\n  })));\n};\n\nvar styles = StyleSheet.create({\n  input: {\n    marginTop: 52,\n    marginLeft: 20,\n    marginRight: 20,\n    height: 50,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: \"#BAB7C3\",\n    paddingHorizontal: 16,\n    borderRadius: 30,\n    color: \"#514e5a\",\n    fontWeight: \"600\"\n  },\n  list: {\n    marginTop: 20,\n    marginLeft: 20\n  }\n});\nexport default Search;","map":{"version":3,"sources":["/Users/adarsh/Documents/StocksUI/Components/Search.js"],"names":["React","useState","av_key","Search","navigation","stocks","setstocks","search","setsearch","topResults","length","fetch","then","res","json","resJson","results","top","map","x","ticker","name","catch","error","Alert","alert","styles","input","text","marginTop","justifyContent","alignContent","color","marginLeft","i","list","navigate","StyleSheet","create","marginRight","height","borderWidth","hairlineWidth","borderColor","paddingHorizontal","borderRadius","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TextInput,\n  Alert,\n  TouchableOpacity,\n} from \"react-native\";\n\nimport { av_key } from \"../config\";\n\nconst Search = ({ navigation }) => {\n  const [stocks, setstocks] = useState([]);\n  const [search, setsearch] = useState(\"\");\n\n  const topResults = () => {\n    if (search.length > 0) {\n      fetch(\n        \"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=\" +\n          search +\n          \"&apikey=\" +\n          av_key\n      )\n        .then((res) => res.json())\n        .then((resJson) => {\n          const results = resJson[\"bestMatches\"];\n          const top = results.map((x) => {\n            return {\n              ticker: x[\"1. symbol\"],\n              name: x[\"2. name\"],\n            };\n          });\n          setstocks(top);\n        })\n        .catch((error) => {\n          Alert.alert(error);\n        });\n    } else {\n      setsearch(\"\");\n    }\n  };\n\n  return (\n    <View>\n      <TextInput\n        style={styles.input}\n        placeholder=\"search stock\"\n        onChangeText={(text) => setsearch(text)}\n        value={search}\n      ></TextInput>\n      <View>\n        <TouchableOpacity\n          onPress={topResults}\n          style={{\n            marginTop: 30,\n            justifyContent: \"center\",\n            alignContent: \"center\",\n          }}\n        >\n          <Text\n            style={{\n              color: \"red\",\n              marginLeft: 20,\n            }}\n          >\n            SEARCH\n          </Text>\n        </TouchableOpacity>\n      </View>\n\n      <View>\n        {stocks.map((x, i) => (\n          <TouchableOpacity\n            style={styles.list}\n            key={i}\n            onPress={() => navigation.navigate(\"stock\", { x })}\n          >\n            <Text>{x.ticker + \" - \" + x.name}</Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  input: {\n    marginTop: 52,\n    marginLeft: 20,\n    marginRight: 20,\n    height: 50,\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: \"#BAB7C3\",\n    paddingHorizontal: 16,\n    borderRadius: 30,\n    color: \"#514e5a\",\n    fontWeight: \"600\",\n  },\n  list: {\n    marginTop: 20,\n    marginLeft: 20,\n  },\n});\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}